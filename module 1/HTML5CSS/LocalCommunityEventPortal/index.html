<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Local Community Event Portal</title>
    <style>
        /* Basic page styling */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        /* Navigation styling */
        nav {
            background-color: #f8f9fa;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
        }

        nav a {
            margin-right: 20px;
            text-decoration: none;
            color: #333;
            padding: 8px 15px;
            border-radius: 4px;
        }

        nav a:hover {
            background-color: #e74c3c;
            color: white;
            transform: translateY(-2px);
            transition: all 0.3s ease;
        }

        /* Welcome Banner styling */
        #welcomeBanner {
            text-align: center;
            padding: 30px;
            margin-bottom: 30px;
            background-color: #2727ac;
            border-radius: 8px;
        }

        #welcomeBanner h1 {
            color: #e74c3c;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            margin-bottom: 15px;
        }

        /* Event gallery styling */
        .event-gallery {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
        }

        .event-gallery td {
            padding: 15px;
            text-align: center;
            vertical-align: top;
        }

        .event-image {
            width: 200px;
            height: 100px;
            object-fit: cover;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .event-image:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
        }

        /* Form styling */
        .registration-form {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 8px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }

        /* Button styling */
        button {
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        button:hover {
            background-color: #2ecc71;
            transform: translateY(-2px);
        }

        /* Video section styling */
        #promo {
            text-align: center;
            margin: 30px 0;
        }

        .video-controls {
            margin-top: 15px;
        }

        .video-controls button {
            margin: 0 5px;
        }

        /* Nearby Events Styling */
        #nearbyEvents {
            margin: 20px 0;
            padding: 20px;
            border-radius: 8px;
            background-color: #f9f9f9;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .event-card {
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            background-color: white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .event-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        #locationResult {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            background-color: #e8f5e9;
            border-left: 4px solid #2ecc71;
        }

        /* Footer styling */
        footer {
            text-align: center;
            margin-top: 50px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <!-- Navigation Section -->
    <nav>
        <a href="#home">Home</a>
        <a href="#events">Events</a>
        <a href="#contact">Contact</a>
        <a href="help.html" target="_blank">Help</a>
    </nav>

    <!-- Welcome Banner Section -->
    <div id="welcomeBanner">
        <h1>Welcome to Our Community Portal</h1>
        <p>Join us for exciting local events! <span style="color: red; font-weight: bold;">Special offer: First event free!</span></p>
    </div>

    <!-- Main Content Section -->
    <main>
        <!-- Events Section -->
        <section id="events">
            <h2>Upcoming Events</h2>
            <table class="event-gallery">
                <tr>
                    <td>
                        <img src="https://img.freepik.com/free-photo/excited-audience-watching-confetti-fireworks-having-fun-music-festival-night-copy-space_637285-559.jpg" alt="Music Fest" title="Music Fest" class="event-image" ondblclick="enlargeImage(this)">
                        <p>Music Night</p>
                    </td>
                    <td>
                        <img src="https://i0.wp.com/www.tusktravel.com/blog/wp-content/uploads/2022/05/Popular-Food-Festival-In-India.jpg?fit=1024%2C683&ssl=1" alt="Food Fair" title="Food Fair" class="event-image" ondblclick="enlargeImage(this)">
                        <p>Food Fair</p>
                    </td>
                    <td>
                        <img src="https://boisedev.com/wp-content/uploads/2024/11/go-do-it-paint-n-sip-shutterstock-2470344.jpg" alt="Art Show" title="Art Show" class="event-image" ondblclick="enlargeImage(this)">
                        <p>Art Show</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <img src="https://c.ndtvimg.com/2023-06/68pf2edg_international-yoga-day-2023_625x300_21_June_23.jpg" alt="Yoga Day" title="Yoga Day" class="event-image" ondblclick="enlargeImage(this)">
                        <p>Yoga Day</p>
                    </td>
                    <td>
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQLuTjczO6cueyKcVBH10zpRMg7mm0bDn7Uyw&s" alt="Cultural Fest" title="Cultural Fest" class="event-image" ondblclick="enlargeImage(this)">
                        <p>Cultural Festival</p>
                    </td>
                    <td>
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRfJiCi-ihHTj3XMx9CGDolxeQIP1_l15S1hA&s" alt="Marathon" title="Marathon" class="event-image" ondblclick="enlargeImage(this)">
                        <p>Marathon</p>
                    </td>
                </tr>
            </table>
        </section>

        <!-- Registration Form Section -->
        <section id="registration">
            <h2>Event Registration</h2>
            <form class="registration-form" id="eventForm" onsubmit="return handleSubmit(event)">
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" required autofocus placeholder="Enter your full name">
                </div>
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required placeholder="Enter your email">
                </div>
                <div class="form-group">
                    <label for="phone">Phone:</label>
                    <input type="tel" id="phone" name="phone" onblur="validatePhone(this)" placeholder="Enter your phone number">
                </div>
                <div class="form-group">
                    <label for="date">Event Date:</label>
                    <input type="date" id="date" name="date" required>
                </div>
                <div class="form-group">
                    <label for="eventType">Choose your preferred event type:</label>
                    <select id="eventType" name="eventType">
                        <option value="">-- Select an event type --</option>
                        <option value="Music">Music</option>
                        <option value="Art">Art</option>
                        <option value="Technology">Technology</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="message">Message:</label>
                    <textarea id="message" name="message" onkeyup="countCharacters(this)" placeholder="Any special requirements?"></textarea>
                    <p>Character count: <span id="charCount">0</span></p>
                </div>
                <button type="submit">Register</button>
                <button type="button" onclick="clearPreferences()">Clear Preferences</button>
                <output id="confirmation"></output>
            </form>
        </section>

        <!-- Video Section -->
        <section id="promo">
            <h2>Event Promo Video</h2>
            <div id="player"></div>
            <div class="video-controls">
                <button onclick="playVideo()">Play</button>
                <button onclick="pauseVideo()">Pause</button>
                <button onclick="restartVideo()">Restart</button>
            </div>
        </section>

        <!-- Geolocation Section -->
        <section id="location">
            <h2>Find Nearby Events</h2>
            <button onclick="findNearbyEvents()">Find Nearby Events</button>
            <p id="locationResult"></p>
            <div id="nearbyEvents">
                <h3>Events Near You</h3>
                <div id="eventsList"></div>
            </div>
        </section>
    </main>

    <!-- Footer Section -->
    <footer>
        <p>&copy; 2024 Local Community Event Portal. All rights reserved.</p>
    </footer>

    <!-- Scripts -->
    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        // YouTube Player API integration
        var player;
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '315',
                width: '560',
                videoId: 'YG8-Yb3utHM',
                playerVars: {
                    'playsinline': 1
                },
                events: {
                    'onReady': onPlayerReady
                }
            });
        }

        function onPlayerReady(event) {
            console.log('Video is ready');
        }

        function playVideo() {
            if (player) player.playVideo();
        }

        function pauseVideo() {
            if (player) player.pauseVideo();
        }

        function restartVideo() {
            if (player) {
                player.seekTo(0);
                player.playVideo();
            }
        }

        function validatePhone(input) {
            const phoneRegex = /^\d{10}$/;
            if (!phoneRegex.test(input.value)) {
                alert('Please enter a valid 10-digit phone number');
                input.focus();
            }
        }

        function countCharacters(textarea) {
            document.getElementById('charCount').textContent = textarea.value.length;
        }

        function enlargeImage(img) {
            const currentWidth = img.style.width;
            img.style.width = currentWidth === '400px' ? '200px' : '400px';
            img.style.height = currentWidth === '400px' ? '200px' : '400px';
            img.style.position = currentWidth === '400px' ? 'static' : 'relative';
            img.style.zIndex = currentWidth === '400px' ? '1' : '1000';
        }

        function showConfirmation() {
            document.getElementById('confirmation').textContent = 'Registration submitted successfully!';
        }

        function handleSubmit(event) {
            event.preventDefault();
            showConfirmation();
            return false;
        }

        function findNearbyEvents() {
            const result = document.getElementById("locationResult");
            const eventsList = document.getElementById("eventsList");

            if (!navigator.geolocation) {
                result.textContent = "Geolocation is not supported by your browser.";
                return;
            }

            navigator.geolocation.getCurrentPosition(
                (position) => {
                    const lat = position.coords.latitude.toFixed(6);
                    const lon = position.coords.longitude.toFixed(6);
                    result.textContent = `📍 Your location: Latitude ${lat}, Longitude ${lon}`;

                    // Sample nearby events
                    const nearbyEventsList = [
                        { name: "Local Music Festival", distance: "0.5 km", date: "Next Saturday", type: "Music" },
                        { name: "Community Art Exhibition", distance: "1.2 km", date: "Tomorrow", type: "Art" },
                        { name: "Food & Culture Fair", distance: "2.0 km", date: "This Weekend", type: "Culture" },
                        { name: "Yoga in the Park", distance: "1.8 km", date: "Every Monday", type: "Fitness" }
                    ];

                    // Display nearby events
                    eventsList.innerHTML = nearbyEventsList.map(event => `
                        <div class="event-card">
                            <h4>${event.name}</h4>
                            <p>📍 Distance: ${event.distance}</p>
                            <p>📅 Date: ${event.date}</p>
                            <p>🏷️ Type: ${event.type}</p>
                        </div>
                    `).join('');
                },
                (error) => {
                    switch (error.code) {
                        case error.PERMISSION_DENIED:
                            result.textContent = "❌ Location permission denied.";
                            break;
                        case error.POSITION_UNAVAILABLE:
                            result.textContent = "❌ Location information is unavailable.";
                            break;
                        case error.TIMEOUT:
                            result.textContent = "⏳ Location request timed out.";
                            break;
                        default:
                            result.textContent = "❌ An unknown error occurred.";
                    }
                }
            );
        }

        // Load saved preferences
        window.onload = function() {
            const savedType = localStorage.getItem("preferredEventType");
            if (savedType) {
                document.getElementById("eventType").value = savedType;
            }
        };

        function clearPreferences() {
            localStorage.removeItem("preferredEventType");
            sessionStorage.clear();
            document.getElementById("eventType").value = "";
            alert("Preferences cleared!");
        }
    </script>
</body>
</html>